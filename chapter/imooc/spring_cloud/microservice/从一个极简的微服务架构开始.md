# 从一个极简的微服务架构开始

## 分布式架构

> Leslie Lamport
>
> 旨在支持应用程序和服务的开发，可以利用物理架构
> 由多个自治的处理元素，不共享主内存，但通过网络发送消息合作

* 多个自治的处理元素 : 多节点

  多节点与分布式：厨房两个厨师，一个炒菜，一个洗碗，则是分布式；两个都洗碗则是集群
* 不共享主内存
* 通过网络发送消息合作

------------- 占位 ，最简单的一个微服务架构

## 微服务架构的基础框架/组件

* 服务注册发现 ：服务提供服务调用需要注册，包括服务之间的调用（特别是集群的时候）
* 服务网关（Service Gateway）： 暴露自己的服务，连接内外的大门
  - 屏蔽后端的一些细节：如实现应用更新，前段无感知
  - 路由功能：外部请求反向连接到具体的微服务中去
  - 限流和容错：所有的请求都要通过网关
  - 监控和日志：
  - 用户认证，授权，反爬虫等功能都可以做
* 后端通用服务（也称为中间层服务Middle Tier Service）
  - 启动时将自身注册到服务中心
* 前端服务（也称为边缘服务Edge Service）
  - 从服务中心获取到后端通用服务进行调用
  - 做后端服务做聚合和踩点暴露给客户端
    - 聚合：将多个不同的服务聚合，暴露一个接口给客户端
    - 踩点：pc端和app端 返回的数据不同，详细度也不同，html和json数据不同

## 仔细观察

------------- 占位 ，仔细观察

后端服务 对应 后端通用服务
vue web app 对应前端服务

这就是一个简单的微服务架构了。但是比较粗糙；

怎么来让这粗糙进行细化呢？

两大手段和两大”配方”

* 阿里系
  - Dubbo ： 服务治理
  - zookeeper ： 服务注册中心
  - SpringMvc or springBoot 进行开发
  -...

* Spring cloud 全家桶系列

## Spring Cloud 是什么？

* 是一个开发工具集，包含了多个子项目

  - 利用spring boot的开发便利
  - 主要是基于对Netflix开源组件的进一步封装

  该公司的开源组件经过了很多年的使用和经验，听介绍很牛逼

* spring cloud 简化了分布式开发

  掌握如何使用，更要理解分布式架构的特点才是最重要的
